# Руководство по запуску проекта

В этом руководстве описаны шаги для быстрого старта проекта с использованием Docker или shell-скрипта.

## Предварительные требования

1. **Python**  
   Для работы проекта необходим Python версии 3.10 или новее. Если Python не установлен, скачайте его с [официального сайта Python](https://www.python.org/downloads/).

2. **Git**  
   Рекомендуется установить Git для клонирования репозитория и работы с версиями.

3. **Docker** (опционально)  
   Если вы планируете запускать проект через Docker, убедитесь, что Docker установлен и запущен. Инструкции по установке доступны на [официальном сайте Docker](https://www.docker.com/get-started).

## Настройка окружения

Создайте в корневой директории проекта файл `.env` и добавьте в него следующие переменные:

```
NGROK_AUTHTOKEN=
SAVE_RESULTS=
RESULTS_FOLDER=
```

- **NGROK_AUTHTOKEN**  
  Зарегистрируйтесь на [ngrok](https://dashboard.ngrok.com/get-started/your-authtoken) и получите персональный токен. Скопируйте токен и вставьте его в эту переменную.

- **SAVE_RESULTS**  
  Укажите, нужно ли сохранять результаты работы модели. По умолчанию `false`.

- **RESULTS_FOLDER**  
  Укажите путь к папке, куда будут сохраняться результаты (По умолчанию `results/`).

## Запуск проекта через Shell-скрипт

Проект поставляется с готовым shell-скриптом для запуска. Выполните следующие шаги:

1. Откройте терминал (на Windows можно использовать Git Bash или WSL).
2. При необходимости сделайте скрипт исполняемым:
   ```bash
   chmod +x start.sh
   ```
3. Запустите скрипт:
   ```bash
   ./start.sh
   ```
   
Скрипт выполнит следующие действия:
- Установит обновленную версию pip.
- Установит все зависимости из файла `requirements.txt`.
- Установит пакет `ngrok`.
- Настроит ngrok с использованием переменной `NGROK_AUTHTOKEN`.
- Запустит приложение.

## Запуск проекта через Docker

Если вы предпочитаете использовать Docker, выполните следующие шаги:

1. Убедитесь, что Docker установлен и запущен.
2. Соберите Docker-образ, находясь в корневой директории проекта:
   ```bash
   docker build -t chroma-worker .
   ```
3. Запустите контейнер:
   ```bash
   docker run -it --rm -p 80:80 chroma-worker
   ```
   
Контейнер выполнит установку зависимостей, настроит ngrok и запустит приложение. Порт 80 на хосте будет проброшен в контейнер.

## Заключение

Следуя данным инструкциям, вы сможете настроить и запустить проект удобным для вас способом. Если возникнут вопросы или проблемы, проверьте настройки в файле `.env` и убедитесь, что установлены все необходимые версии программного обеспечения.
